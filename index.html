<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spin Wheel with Random Role</title>
    <style>
        /* Gaya untuk tampilan roda dan modal */
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }

        .wheel {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            border: 5px solid #000;
            margin: 0 auto;
            position: relative;
        }

        .wheel .item {
            position: absolute;
            top: 50%;
            left: 50%;
            transform-origin: 0% 100%;
            width: 50%;
            height: 25%;
            text-align: center;
            line-height: 1.5;
        }

        /* Gaya untuk modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
        }
    </style>
</head>
<body>

    <h1>Spin the Wheel</h1>
    <div class="wheel" id="wheel">
        <!-- Items will be dynamically inserted here -->
    </div>

    <button onclick="spinWheel()">Spin</button>

    <!-- Modal untuk hasil -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p id="modalResult">Result: </p> <!-- Hasil akan ditampilkan di sini -->
        </div>
    </div>

    <script>
        const items = ["Hero 1", "Hero 2", "Hero 3", "Hero 4", "Hero 5", "Hero 6"];  // Daftar nama hero
        const roles = ['Mage', 'Hyper', 'Roam', 'EXP', 'MM'];  // Daftar role Mobile Legends
        let selectedItem = null;
        let angle = 0;
        const wheel = document.getElementById('wheel');
        const resultModal = document.getElementById('resultModal');
        const modalResult = document.getElementById('modalResult');

        // Fungsi untuk memutar roda
        function spinWheel() {
            const randomIndex = Math.floor(Math.random() * items.length);  // Pilih hero secara acak
            const targetItem = items[randomIndex];
            const targetAngle = (360 / items.length) * randomIndex;
            const randomAngle = 3600 + targetAngle;  // Spin lebih dari 10 putaran
            const spinTime = 5000;
            let startTime = null;

            // Pilih role acak
            const selectedRole = getRandomRole();

            function rotate(timestamp) {
                if (!startTime) startTime = timestamp;
                const elapsed = timestamp - startTime;

                if (elapsed < spinTime) {
                    angle = (randomAngle * (elapsed / spinTime)) % 360;
                    drawRotatedWheel();
                    requestAnimationFrame(rotate);
                } else {
                    angle = targetAngle;
                    drawRotatedWheel();
                    modalResult.textContent = `Result: ${targetItem} - Role: ${selectedRole}`; // Tampilkan nama dan role
                    showModal(targetItem, selectedRole); // Tampilkan modal
                }
            }

            requestAnimationFrame(rotate);
        }

        // Fungsi untuk menggambar roda yang berputar
        function drawRotatedWheel() {
            const wheelItems = wheel.getElementsByClassName('item');
            for (let i = 0; i < items.length; i++) {
                const item = wheelItems[i];
                item.style.transform = `rotate(${(360 / items.length) * i + angle}deg)`;
            }
        }

        // Fungsi untuk memilih role secara acak
        function getRandomRole() {
            const randomIndex = Math.floor(Math.random() * roles.length);
            return roles[randomIndex];
        }

        // Fungsi untuk menampilkan modal
        function showModal(result, role) {
            modalResult.textContent = `Result: ${result} - Role: ${role}`;
            resultModal.style.display = "block";
        }

        // Fungsi untuk menutup modal
        function closeModal() {
            resultModal.style.display = "none";
        }

        // Membuat item pada roda
        function setupWheel() {
            for (let i = 0; i < items.length; i++) {
                const item = document.createElement('div');
                item.classList.add('item');
                item.textContent = items[i];
                wheel.appendChild(item);
            }
        }

        // Setup roda pada awal halaman
        setupWheel();
    </script>

</body>
</html>
